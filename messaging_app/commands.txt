# Commands for applying Ingress configuration

# Install Nginx Ingress Controller (if not already installed)
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.1/deploy/static/provider/cloud/deploy.yaml

# Apply the Ingress configuration
kubectl apply -f ingress.yaml

# Verify Ingress is created
kubectl get ingress

# Check Ingress status
kubectl describe ingress django-messaging-ingress

# Get the external IP (for accessing the application)
kubectl get svc -n ingress-nginx

# Test the Ingress (when cluster is accessible)
curl -H "Host: messaging.local" http://<external-ip>/api/health/
